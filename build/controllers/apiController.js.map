{"version":3,"sources":["../../src/controllers/apiController.js"],"names":["sendJsonResponse","res","status","content","json","budgetByUser","req","userId","session","models","Budget","find","exec","err","user"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAMC,MAAN,EAAcC,OAAd,EAA0B;AAC/CF,EAAAA,GAAG,CAACC,MAAJ,CAAYA,MAAZ;AACAD,EAAAA,GAAG,CAACG,IAAJ,CAAUD,OAAV;AACH,CAHD;;AAIA,IAAME,YAAY,GAAG,SAAfA,YAAe,CAAUC,GAAV,EAAeL,GAAf,EAAoB;AACrC;AACA,MAAIM,MAAM,GAAGD,GAAG,CAACE,OAAJ,CAAYD,MAAzB;;AACA,MAAIA,MAAJ,EAAY;AACRE,uBAAOC,MAAP,CACKC,IADL,CACU;AAAC,cAAQJ;AAAT,KADV,EAEKK,IAFL,CAEU,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AACvB,UAAID,GAAJ,EAAS,OAAOb,gBAAgB,CAACC,GAAD,EAAM,GAAN,EAAWY,GAAX,CAAvB;AACTb,MAAAA,gBAAgB,CAACC,GAAD,EAAM,GAAN,EAAW;AAACC,QAAAA,MAAM,EAAEY;AAAT,OAAX,CAAhB;AACH,KALL;AAOH,GARD,MAQO;AACHd,IAAAA,gBAAgB,CAACC,GAAD,EAAM,GAAN,EAAW,cAAX,CAAhB;AACH,GAboC,CAcrC;;AACH,CAfD;;eAgBe;AACXI,EAAAA,YAAY,EAAEA;AADH,C","sourcesContent":["import mongoose from 'mongoose';\r\nimport models from '../models';\r\n\r\nconst sendJsonResponse = (res, status, content) => {\r\n    res.status( status );\r\n    res.json( content )\r\n}\r\nconst budgetByUser = function (req, res) {\r\n    // var userId = req.params.userId;\r\n    var userId = req.session.userId;\r\n    if (userId) {\r\n        models.Budget\r\n            .find({\"user\": userId})\r\n            .exec(function (err, user) {\r\n                if (err) return sendJsonResponse(res, 400, err);\r\n                sendJsonResponse(res, 200, {status: user});\r\n            })\r\n\r\n    } else {\r\n        sendJsonResponse(res, 400, \"Not Loggined\")\r\n    }\r\n    // sendJsonResponse(res, 200, {status: \"success\"});\r\n}\r\nexport default {\r\n    budgetByUser: budgetByUser\r\n};"],"file":"apiController.js"}